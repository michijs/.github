name: "Execute typescript"
description: "Execute typescript in the selected repository"
inputs:
  script:
    description: "Script to execute"
    required: true

runs:
  using: "composite"
  steps:
    - name: Fail if script contains single quotes
      if: contains(inputs.script, "'")
      shell: bash
      run: |
        echo "::error::Single quotes are not supported yet (')."
        exit 1
    - name: Execute ts
      shell: bash
      run: |
        # Executing TS script
        bun run - <<'EOF'
          ${{ inputs.script }}
        EOF
        > /dev/null 2>&1